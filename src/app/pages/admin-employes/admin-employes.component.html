<div class="container mt-4">
  <h3>👤 Gestion des employés</h3>

  <ul class="list-group mb-4">
    <li *ngFor="let e of employes" class="list-group-item d-flex justify-content-between align-items-center">
      {{ e.nom }} {{ e.prenom }} — {{ e.email }} — {{ e.role }}
      <div>
        <button class="btn btn-sm btn-warning me-2" (click)="modifierEmploye(e)">✏️</button>
        <button class="btn btn-sm btn-danger" (click)="supprimerEmploye(e._id!)">🗑️</button>
      </div>
    </li>
  </ul>

  <form (ngSubmit)="employeEnCours._id ? enregistrerModification() : ajouterEmploye()">
  <div class="row">
    <div class="col-md-3 mb-2">
      <input class="form-control" placeholder="Nom" [(ngModel)]="employeEnCours.nom" name="nom" required />
    </div>
    <div class="col-md-3 mb-2">
      <input class="form-control" placeholder="Prénom" [(ngModel)]="employeEnCours.prenom" name="prenom" required />
    </div>
    <div class="col-md-3 mb-2">
      <input class="form-control" type="email" placeholder="Email" [(ngModel)]="employeEnCours.email" name="email" required />
    </div>
    <div class="col-md-3 mb-2">
      <input class="form-control" placeholder="Nom d'utilisateur" [(ngModel)]="employeEnCours.nomUtilisateur" name="nomUtilisateur" required />
    </div>
    <div class="col-md-3 mb-2" *ngIf="!employeEnCours._id">
      <input class="form-control" type="password" placeholder="Mot de passe" [(ngModel)]="employeEnCours.motDePasse" name="motDePasse" required />
    </div>
    <div class="col-md-3 mb-2">
      <select class="form-select" [(ngModel)]="employeEnCours.role" name="role" required>
        <option [ngValue]="'admin'">Administrateur</option>
        <option [ngValue]="'employe'">Employé</option>
      </select>
    </div>
  </div>

  <button type="submit" class="btn mt-2"
    [ngClass]="employeEnCours._id ? 'btn-warning' : 'btn-success'">
    {{ employeEnCours._id ? '💾 Enregistrer les modifications' : '➕ Ajouter un Employé' }}
  </button>
</form>

</div>
